{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Essence - Fashion Ecommerce Template</title>

    <!-- Favicon  -->
    <link rel="icon" href="{% static 'img/core-img/favicon.ico' %}">

    <!-- Core Style CSS -->
    {% include 'Components/csslinks.html' %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .quantity-wrapper {
    display: flex;
    align-items: center;
    border: 1px solid #ddd;
    border-radius: 30px;
    overflow: hidden;
    height: 45px;
}

.qty-input {
    width: 60px;
    text-align: center;
    border: none;
    outline: none;
    font-size: 16px;
}

.qty-btn {
    width: 40px;
    height: 100%;
    border: none;
    background: #f5f5f5;
    font-size: 20px;
    cursor: pointer;
}

.qty-btn:hover {
    background: #ddd;
}

    </style>
</head>

<body>
    <!-- ##### Header Area Start ##### -->
    <header class="header_area">
        {% include 'Components/navbar.html' %}
    </header>
    <!-- ##### Header Area End ##### -->

    <!-- ##### Right Side Cart Area ##### -->
{#    <div class="cart-bg-overlay"></div>#}
{#    <div class="right-side-cart-area">#}
{#        {% include 'Components/cart-list.html' %}#}
{#    </div>#}
    <!-- ##### Right Side Cart End ##### -->

    <!-- ##### Single Product Details Area Start ##### -->
    <section class="single_product_details_area d-flex align-items-center justify-content-center">

        <!-- Single Product Thumb -->
        <div class="single_product_thumb clearfix">
            <img src="{{ DTProduct.productImage.url }}" alt="">
        </div>

        <!-- Single Product Description -->
        <div class="single_product_desc clearfix">
            <div>
                <span>{{ DTProduct.genreID.genreName }}</span>
                <a href="{% url 'index' %}">
                    <h2>{{ DTProduct.productName }}</h2>
                </a>
                {% if DTProduct.orignalPrice > 0 %}
                    <p class="product-price"><span class="old-price">${{ DTProduct.orignalPrice }}</span> ${{ DTProduct.price }}</p>
                {% else %}
                    <p class="product-price">${{ DTProduct.price }}</p>
                {% endif %}
                <p class="product-desc">
                    {{ DTProduct.productDescription | safe }}
                </p>

                <!-- Form -->
                <form class="cart-form clearfix" method="post" action="{% url 'cart' DTProduct.id %}">
                    {% csrf_token %}

                    <div class="cart-fav-box d-flex align-items-center">

                        <!-- Quantity Box -->
                        <div class="quantity-wrapper">
                            <button type="button" class="qty-btn minus">âˆ’</button>
                            <input type="number" name="quantity" value="1" min="1" class="qty-input">
                            <button type="button" class="qty-btn plus">+</button>
                        </div>

                        <button type="submit" class="btn essence-btn ml-3">
                            Add to cart
                        </button>

                        <div class="product-favourite ml-4">
                            <a href="#" class="favme fa fa-heart"></a>
                        </div>
                    </div>
                </form>

            </div>

            <div style="margin-bottom: 120px;">
                <h4 style="color: gray">Review</h4>
                <p style="color: black">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Doloribus, tempora.</p>
            </div>
        </div>
    </section>
    <!-- ##### Single Product Details Area End ##### -->

    <!-- ##### Similar Products Area Start ##### -->
    <!-- ##### Similar Products Area Start ##### -->
<section class="similar_products_area section_padding_100_50" style="padding: 50px 0; background-color: #f9f9f9; width: 100vw;">
    <div class="container-fluid">
        <div class="row">
            <div class="col-12 text-center mb-4">
                <div class="section-heading">
                    <h2 style="font-weight: 700; font-size: 2rem; letter-spacing: 1px;">Similar Products</h2>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-12">
                <div class="similar-products-slides owl-carousel owl-theme">
                    <!-- Single Similar Product -->
                    {% for DTAllProduct in DTAllProduct %}
                    <div class="single-product-wrapper" style="background: #fff; border-radius: 10px; box-shadow: 0 6px 15px rgba(0,0,0,0.1); padding: 15px; text-align: center; margin: 10px;">
                        <div class="product-img" style="overflow: hidden; border-radius: 10px;">
                            <img src="{{ DTAllProduct.productImage.url }}" alt="" style="width: 100%; height: 250px; object-fit: cover; transition: transform 0.3s;">
                        </div>
                        <div class="product-description mt-3">
                            <span style="color: #999; font-size: 0.85rem;">{{ DTAllProduct.genreID.genreName }}</span>
                            <a href="{% url 'single_product_details' DTAllProduct.genreID.id DTAllProduct.id %}">
                                <h6 style="font-weight: 600; font-size: 1rem; margin: 5px 0;">{{ DTAllProduct.productName }}</h6>
                            </a>
                            <p class="product-price" style="font-weight: 700; color: #333;">${{ DTAllProduct.price }}</p>
                        </div>
                    </div>
                    {% endfor %}
                    <!-- Add more products here -->
                </div>
            </div>
        </div>
    </div>
</section>
<!-- ##### Similar Products Area End ##### -->

    <!-- ##### Similar Products Area End ##### -->

    <!-- ##### Footer Area Start ##### -->
    <footer class="footer_area clearfix">
        {% include 'Components/footer.html' %}
    </footer>
    <!-- ##### Footer Area End ##### -->

    {% include 'Components/jslinks.html' %}

    <script>
        $('.similar-products-slides').owlCarousel({
            loop: true,
            margin: 20,
            nav: false,
            dots: false,
            smartSpeed: 600,
            autoplay: true,
            autoplayTimeout: 4000,
            autoplayHoverPause: true,
            navText: [
                '<i class="fa fa-chevron-left"></i>',  // Left arrow
                '<i class="fa fa-chevron-right"></i>'  // Right arrow
            ],
            responsive: {
                0: { items: 1 },
                576: { items: 2 },
                768: { items: 3 },
                992: { items: 4 },
                1200: { items: 5 }
            }
        });
        document.addEventListener("DOMContentLoaded", function () {
            const minusBtn = document.querySelector(".minus");
            const plusBtn = document.querySelector(".plus");
            const qtyInput = document.querySelector(".qty-input");

            minusBtn.addEventListener("click", () => {
                if (qtyInput.value > 1) {
                    qtyInput.value--;
                }
            });

            plusBtn.addEventListener("click", () => {
                qtyInput.value++;
            });
        });

    </script>
</body>
</html>
